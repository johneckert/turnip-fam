(this["webpackJsonpturnip-fam"]=this["webpackJsonpturnip-fam"]||[]).push([[0],{13:function(e,a,t){},14:function(e,a,t){},15:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(3),s=t.n(c),i=(t(13),t(1)),o=t(4),l=t(5),d=t(7),p=t(6),u=(t(14),function(e){console.log("viz props",e);var a=e.islandData.prices,t="",n="",c="",s="",i="",o="",l="",d="",p="",u="",f="",h="",m="",y=function(){switch(e.islandData.trend){case"Fluctuating":return"&pattern=0";case"Small Spike":return"&pattern=1";case"Large Spike":return"&pattern=2";case"Decreasing":return"&pattern=3";default:return""}}();a.forEach((function(e){switch(e.day){case"Monday AM":t=e.price;break;case"Monday PM":n=e.price;break;case"Tuesday AM":c=e.price;break;case"Tuesday PM":s=e.price;break;case"Wednesday AM":i=e.price;break;case"Wednesday PM":o=e.price;break;case"Thursday AM":l=e.price;break;case"Thursday PM":d=e.price;break;case"Friday AM":p=e.price;break;case"Friday PM":u=e.price;break;case"Saturday AM":f=e.price;break;case"Saturday PM":h=e.price;break;case"Purchase Price":m=e.price}}));var b="https://turnipprophet.io?prices=".concat(m,".").concat(t,".").concat(n,".").concat(c,".").concat(s,".").concat(i,".").concat(o,".").concat(l,".").concat(d,".").concat(p,".").concat(u,".").concat(f,".").concat(h).concat(y);return r.a.createElement("div",{class:"viz"},r.a.createElement("iframe",{title:e.islandData.name,src:b}),r.a.createElement("a",{href:b,target:"_blank"},"Open ",e.islandData.name," on turnipprophet.io"))}),f=function(e){console.log("Island props",e);var a,t=e.islandData.name.toUpperCase(),n=e.islandData.trend;return a=e.islandData.prices?e.islandData.prices.map((function(e,a){return r.a.createElement("li",{key:a},e.day,": ",e.price)})):"",r.a.createElement("div",{class:"island"},r.a.createElement("h1",null,t),r.a.createElement("div",{class:"data"},r.a.createElement("p",null,"Trend: ",n),r.a.createElement("ul",null,a)),r.a.createElement(u,{islandData:e.islandData}))},h=function(e){Object(d.a)(t,e);var a=Object(p.a)(t);function t(){var e;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=a.call.apply(a,[this].concat(r))).state={islandsMap:[{name:"Pangea",id:"rec4pkXw2fuxCkz96"},{name:"Beachville",id:"rec5iK0WpYyf3HSZq"},{name:"Quarantown",id:"recsTTbtgsGb8H2f8"}],prices:[],trendHistory:[],Islands:[]},e}return Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("https://api.airtable.com/v0/appoISrWazljbBWsc/Prices?api_key=keyZ45rUNype5TblZ").then((function(e){return e.json()})).then((function(a){console.log("Prices JSON:",a.records),e.setState(Object(i.a)(Object(i.a)({},e.state),{},{prices:a.records}))})),fetch("https://api.airtable.com/v0/appoISrWazljbBWsc/Trend%20History?api_key=keyZ45rUNype5TblZ").then((function(e){return e.json()})).then((function(a){console.log("Trend JSON:",a.records),e.setState(Object(i.a)(Object(i.a)({},e.state),{},{trendHistory:a.records}))})),fetch("https://api.airtable.com/v0/appoISrWazljbBWsc/Islands?api_key=keyZ45rUNype5TblZ").then((function(e){return e.json()})).then((function(a){console.log("Island JSON:",a.records),e.setState(Object(i.a)(Object(i.a)({},e.state),{},{Islands:a.records}))}))}},{key:"getTrend",value:function(e){var a;if(this.state.Islands.forEach((function(t){a=t&&t.fields.Name===e.name?t:{}})),a&&a.fields){var t=a.fields["Trend History"][0],n=this.state.trendHistory.find((function(e){return e.id===t}));return n&&n.fields?n.fields.Type:"loading..."}}},{key:"getPrices",value:function(e){var a=this,t=[];this.state.Islands.forEach((function(a){a&&a.fields.Name===e.name&&(t=a.fields.Prices)})),console.log("priceCodeArray",t);var n=[];return t.forEach((function(e){if(a.state.prices&&a.state.prices.length>0){var t=a.state.prices.find((function(a){return a.id===e})),r={};r.price=t.fields.Price,r.day=t.fields.Day,console.log("PI",r),console.log("S",t),n.push(r)}})),console.log("PricesArray:",n),n}},{key:"getInfo",value:function(e){var a={};return console.log("this.state.Islands",this.state.Islands),a.name=e.name,a.prices=this.getPrices(e),a.trend=this.getTrend(e),a}},{key:"testState",value:function(){console.log(this.state)}},{key:"render",value:function(){var e=this,a=this.state.islandsMap.map((function(a,t){return r.a.createElement(f,{islandData:e.getInfo(a),key:t})}));return this.testState(),r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},r.a.createElement("h1",null,"Turnip Fam")),a)}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(h,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},8:function(e,a,t){e.exports=t(15)}},[[8,1,2]]]);
//# sourceMappingURL=main.3e4cdd1a.chunk.js.map